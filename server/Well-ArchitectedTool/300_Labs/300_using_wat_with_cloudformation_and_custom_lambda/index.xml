<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Level 300: Using custom resource in AWS CloudFormation to create and update Well-Architected Reviews on AWS Well-Architected Labs</title><link>https://wellarchitectedlabs.com/well-architectedtool/300_labs/300_using_wat_with_cloudformation_and_custom_lambda/</link><description>Recent content in Level 300: Using custom resource in AWS CloudFormation to create and update Well-Architected Reviews on AWS Well-Architected Labs</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Thu, 25 Mar 2021 11:16:09 -0400</lastBuildDate><atom:link href="https://wellarchitectedlabs.com/well-architectedtool/300_labs/300_using_wat_with_cloudformation_and_custom_lambda/index.xml" rel="self" type="application/rss+xml"/><item><title>Deploying the infrastructure</title><link>https://wellarchitectedlabs.com/well-architectedtool/300_labs/300_using_wat_with_cloudformation_and_custom_lambda/1_deploy_cfn/</link><pubDate>Thu, 25 Mar 2021 11:16:09 -0400</pubDate><guid>https://wellarchitectedlabs.com/well-architectedtool/300_labs/300_using_wat_with_cloudformation_and_custom_lambda/1_deploy_cfn/</guid><description>The CloudFormation template that accompanies this lab requires the ability to create IAM Roles and AWS Lambda functions. If the account you are using does not have these capabilities, you will not be able to complete this lab.
Deploy CloudFormation Template Download the DeployWACustomLambda.yaml CloudFormation template to your machine. For this lab, you will need to use us-east-2 Go to the AWS CloudFormation console at https://console.aws.amazon.com/cloudformation and click Create Stack &amp;gt; With new resources Leave Prepare template setting as-is</description></item><item><title>Exploring AWS Lambda code</title><link>https://wellarchitectedlabs.com/well-architectedtool/300_labs/300_using_wat_with_cloudformation_and_custom_lambda/2_explore_lambda_code/</link><pubDate>Thu, 25 Mar 2021 11:16:09 -0400</pubDate><guid>https://wellarchitectedlabs.com/well-architectedtool/300_labs/300_using_wat_with_cloudformation_and_custom_lambda/2_explore_lambda_code/</guid><description>Overview There are two AWS Lambda functions that you deployed in the previous step. Both of them utilize the AWS SDK for Python (Boto3) library along with the Lambda Powertools Python via a Lambda layer to perform the Well-Architected Tool API access.
Deployed AWS Lambda functions Click on each link to understand how each Lambda function works.
CreateWAWorkloadLambda Overview Python Code Example Lambda Event IAM Role UpdateWAQuestionLambda Overview Python Code Example Lambda Event IAM Role CreateWAWorkloadLambda.</description></item><item><title>How to utilize AWS Lambda-backed custom resources in CloudFormation</title><link>https://wellarchitectedlabs.com/well-architectedtool/300_labs/300_using_wat_with_cloudformation_and_custom_lambda/3_how_to_use_in_cfn/</link><pubDate>Thu, 25 Mar 2021 11:16:09 -0400</pubDate><guid>https://wellarchitectedlabs.com/well-architectedtool/300_labs/300_using_wat_with_cloudformation_and_custom_lambda/3_how_to_use_in_cfn/</guid><description>Overview In order to utilize the two Lambda-backed custom resources in CloudFormation, you will need the pass the Lambda function ARN along with expected parameters using the CloudFormation custom resource type. Below are examples for creating a new workload as well as updating two questions in the Operational Excellence pillar. The general workflow for this lambda-backed CloudFormation function: Example Workload Creation When you use this custom function, it will either create the WA Workload (if it doesn&amp;rsquo;t exist) or update the given parameters if it already does exist.</description></item><item><title>Deploying Sample Lambda application along with Well-Architected review</title><link>https://wellarchitectedlabs.com/well-architectedtool/300_labs/300_using_wat_with_cloudformation_and_custom_lambda/4_deploying_sample_lambda_app/</link><pubDate>Thu, 25 Mar 2021 11:16:09 -0400</pubDate><guid>https://wellarchitectedlabs.com/well-architectedtool/300_labs/300_using_wat_with_cloudformation_and_custom_lambda/4_deploying_sample_lambda_app/</guid><description>The CloudFormation template that accompanies this lab requires the ability to create IAM Roles and AWS Lambda functions. If the account you are using does not have these capabilities, you will not be able to complete this lab.
Deploy Sample Application CloudFormation Template Download the SampleLambdaAPIGWDeploy.yaml CloudFormation template to your machine. For this lab, you will need to use us-east-2 Go to the AWS CloudFormation console at https://console.aws.amazon.com/cloudformation and click Create Stack &amp;gt; With new resources Leave Prepare template setting as-is</description></item><item><title>Explore Well-Architected Review</title><link>https://wellarchitectedlabs.com/well-architectedtool/300_labs/300_using_wat_with_cloudformation_and_custom_lambda/5_explore_wareview/</link><pubDate>Thu, 25 Mar 2021 11:16:09 -0400</pubDate><guid>https://wellarchitectedlabs.com/well-architectedtool/300_labs/300_using_wat_with_cloudformation_and_custom_lambda/5_explore_wareview/</guid><description>Explore Well-Architected Review that was created by the sample application Go to the Well-Architected Tool Console and find the workload called &amp;ldquo;APIGWLambda - walabs-api - WALabsSampleLambdaFunction&amp;rdquo;.
You will notice that the tool reports that 4 questions have already been answered and lists 3 as High Risks. Click on the Workload link &amp;ldquo;APIGWLambda - walabs-api - WALabsSampleLambdaFunction&amp;rdquo;
From here, you can click on the &amp;ldquo;Continue Reviewing&amp;rdquo; and then select &amp;ldquo;AWS Well-Architected Framework&amp;rdquo; drop-down to answer the rest of the questions.</description></item><item><title>Teardown</title><link>https://wellarchitectedlabs.com/well-architectedtool/300_labs/300_using_wat_with_cloudformation_and_custom_lambda/6_cleanup/</link><pubDate>Thu, 25 Mar 2021 11:16:09 -0400</pubDate><guid>https://wellarchitectedlabs.com/well-architectedtool/300_labs/300_using_wat_with_cloudformation_and_custom_lambda/6_cleanup/</guid><description>Cleanup of CloudFormation In the AWS Management Console, navigate to the AWS CloudFormation console Select the stack WALabDemoApp, and delete it. Wait for that stack to full delete before moving on to the next step Select the stack WALambdaHelpers, and delete it. Remove the WA Review In the AWS Management Console, navigate to the Well-Architected Tool Console Select the radio button next to the workload APIGWLambda - walabs-api - WALabsSampleLambdaFunction Click the Delete button at the top page.</description></item></channel></rss>