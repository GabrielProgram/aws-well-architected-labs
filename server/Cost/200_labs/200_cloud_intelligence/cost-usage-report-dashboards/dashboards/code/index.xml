<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>AWS Well-Architected Labs</title><link>https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/</link><description>Recent content on AWS Well-Architected Labs</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Sun, 26 Jul 2020 11:16:08 -0400</lastBuildDate><atom:link href="https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/index.xml" rel="self" type="application/rss+xml"/><item><title/><link>https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/kpi_ebs_snap_view/</link><pubDate>Sun, 16 Jan 2022 11:16:08 -0400</pubDate><guid>https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/kpi_ebs_snap_view/</guid><description>KPI EBS Snap View This view will be used to create the KPI EBS Snap view that is used to analyze EBS snap metrics and potential savings opportunities. There is only one version of this view and it is not dependent on if you have or do not have Reserved Instances or Savings Plans.
Create View Click here to expand the view Modify the following SQL query for the KPI EBS Snap view:</description></item><item><title/><link>https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/kpi_ebs_storage_all_view/</link><pubDate>Sun, 16 Jan 2022 11:16:08 -0400</pubDate><guid>https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/kpi_ebs_storage_all_view/</guid><description>KPI EBS Storage All View This view will be used to create the KPI EBS Storage All view that is used to analyze EBS storage metrics and potential savings opportunities. There is only one version of this view and it is not dependent on if you have or do not have Reserved Instances or Savings Plans.
Create View Click here to expand the view Modify the following SQL query for the KPI EBS Storage All view:</description></item><item><title/><link>https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/kpi_instance_all_view/</link><pubDate>Sun, 16 Jan 2022 11:16:08 -0400</pubDate><guid>https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/kpi_instance_all_view/</guid><description>KPI Instance All View This view will be used to create the KPI Instance All view that is used to analyze all EC2, RDS, ElastiCache, OpenSearch, Sagemaker, DynamoDB, Redshift, Lambda, and Fargate Metrics. metrics and potential savings opportunities. There are fours versions of this view and it is dependent on if you have or do not have Reserved Instances or Savings Plans. Use one of the following queries depending on whether you have Reserved Instances or Savings Plans.</description></item><item><title/><link>https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/kpi_s3_storage_all_view/</link><pubDate>Sun, 16 Jan 2022 11:16:08 -0400</pubDate><guid>https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/kpi_s3_storage_all_view/</guid><description>KPI S3 Storage All View This view will be used to create the KPI S3 Storage All view that is used to analyze S3 storage metrics and potential savings opportunities. There is only one version of this view and it is not dependent on if you have or do not have Reserved Instances or Savings Plans.
Create View Click here to expand the view Modify the following SQL query for the KPI S3 Storage All view:</description></item><item><title/><link>https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/kpi_tracker_view/</link><pubDate>Sun, 16 Jan 2022 11:16:08 -0400</pubDate><guid>https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/kpi_tracker_view/</guid><description>KPI Tracker View This view will be used to create the KPI Tracker view that is used to combine the all the different KPI views and the summary view into a single view so that all KPI metrics can be in a single visual. There is only one version of this view and it is not dependent on if you have or do not have Reserved Instances or Savings Plans.</description></item><item><title/><link>https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/6_view6/</link><pubDate>Mon, 15 Mar 2021 10:00:02 -0400</pubDate><guid>https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/6_view6/</guid><description>View 6 - Customer_All The customer_all view is used to direct query a small portion of the full cost and usage report.
Click here - to create your customer_all view Modify the following SQL query for View0 - Account Map:
On line 5, replace (database.table_name) with your Cost &amp;amp; Usage Report database and table name
CREATE OR REPLACE VIEW customer_all AS SELECT * FROM (database.table_name) WHERE (CAST(&amp;quot;concat&amp;quot;(&amp;quot;year&amp;quot;, '-', &amp;quot;month&amp;quot;, '-01') AS date) &amp;gt;= (&amp;quot;date_trunc&amp;quot;('month', current_date) - INTERVAL '3' MONTH)) Validate View Confirm the view is working, run the following Athena query and you should receive 10 rows of data:</description></item><item><title/><link>https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/7_view7/</link><pubDate>Mon, 15 Mar 2021 10:00:02 -0400</pubDate><guid>https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/7_view7/</guid><description>Data Transfer View This view will be used to create the main Data Transfer Cost Analysis dashboard page.
We recommend large customers with over 500 linked accounts, or more than $5M a month in invoiced cost, display 1 or 2 months previous data instead of 3. Modify the INTERVAL in the statements below to less than 3 months for improved performance.
Create View Click here - to expand data transfer view query OR Modify the following SQL query for data_transfer_view:</description></item><item><title/><link>https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/0_view0/</link><pubDate>Sun, 26 Jul 2020 11:16:08 -0400</pubDate><guid>https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/0_view0/</guid><description>View 0 - Account Map The Cost &amp;amp; Usage Report data doesn&amp;rsquo;t contain account names and other business or organization specific mapping so the first view you will create is a view that enhances your CUR data. There are a few options you can leverage to create your account_map view to provide opportunities to leverage your existing mapping tables. organization information, or other business mappings allows for deeper insights and additional This view will be used to create the Account_Map for your dashboards.</description></item><item><title/><link>https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/1_view1/</link><pubDate>Sun, 26 Jul 2020 11:16:08 -0400</pubDate><guid>https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/1_view1/</guid><description>View 1 - Summary View This view is the main dataset used in the your dashboards and is the foundation view for your dashboard page. Use one of the following queries depending on whether you have Reserved Instances, or Savings Plans.
Create View We recommend large customers with over 500 linked accounts or more than $10M a month in invoiced cost update the usage date field in the query from &amp;lsquo;day&amp;rsquo; to &amp;lsquo;month&amp;rsquo; for improved performance</description></item><item><title/><link>https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/2_view2/</link><pubDate>Sun, 26 Jul 2020 11:16:08 -0400</pubDate><guid>https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/2_view2/</guid><description>View 2 - EC2 Running Costs This view will be used to create the EC2 Running Costs dashboard page. Use one of the following queries depending on whether you have Reserved Instances, or Savings Plans.
Create View Click here - if you have both Savings Plans and Reserved Instances Modify the following SQL query for View2 - EC2_Running_Cost:
Update line 17 replace (database).(tablename) with your CUR database and table name</description></item><item><title/><link>https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/3_view3/</link><pubDate>Sun, 26 Jul 2020 11:16:08 -0400</pubDate><guid>https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/3_view3/</guid><description>View 3 - Compute Savings Plan Eligible Spend This view will be used to create the Compute Savings Plan Eligible Spend dashboard page.
Create View Click here - if you have both Savings Plans and Reserved Instances Modify the following SQL query for View3 - Compute Savings PlaneEligible spend:
Update line 22, replace (database).(tablename) with your CUR database and table name
CREATE OR REPLACE VIEW &amp;quot;compute_savings_plan_eligible_spend&amp;quot; AS SELECT DISTINCT &amp;quot;year&amp;quot; , &amp;quot;month&amp;quot; , &amp;quot;bill_payer_account_id&amp;quot; &amp;quot;payer_account_id&amp;quot; , &amp;quot;line_item_usage_account_id&amp;quot; &amp;quot;linked_account_id&amp;quot; , &amp;quot;bill_billing_period_start_date&amp;quot; &amp;quot;billing_period&amp;quot; , &amp;quot;date_trunc&amp;quot;('hour', &amp;quot;line_item_usage_start_date&amp;quot;) &amp;quot;usage_date&amp;quot; , &amp;quot;sum&amp;quot;(CASE WHEN ((((&amp;quot;line_item_line_item_type&amp;quot; = 'Usage') AND (NOT (&amp;quot;line_item_usage_type&amp;quot; LIKE '%Spot%'))) AND (&amp;quot;product_servicecode&amp;quot; &amp;lt;&amp;gt; 'AWSDataTransfer')) AND (&amp;quot;line_item_usage_type&amp;quot; NOT LIKE '%DataXfer%')) THEN CASE WHEN ((&amp;quot;line_item_product_code&amp;quot; = 'AmazonEC2') AND (&amp;quot;line_item_operation&amp;quot; LIKE '%RunInstances%')) THEN &amp;quot;line_item_unblended_cost&amp;quot; WHEN ((&amp;quot;line_item_product_code&amp;quot; = 'AWSLambda') AND (&amp;quot;line_item_usage_type&amp;quot; LIKE '%Lambda-Provisioned-GB-Second%')) THEN &amp;quot;line_item_unblended_cost&amp;quot; WHEN ((&amp;quot;line_item_product_code&amp;quot; = 'AWSLambda') AND (&amp;quot;line_item_usage_type&amp;quot; LIKE '%Lambda-GB-Second%')) THEN &amp;quot;line_item_unblended_cost&amp;quot; WHEN ((&amp;quot;line_item_product_code&amp;quot; = 'AWSLambda') AND (&amp;quot;line_item_usage_type&amp;quot; LIKE '%Lambda-Provisioned-Concurrency%')) THEN &amp;quot;line_item_unblended_cost&amp;quot; WHEN (&amp;quot;line_item_usage_type&amp;quot; LIKE '%Fargate%') THEN &amp;quot;line_item_unblended_cost&amp;quot; ELSE 0 END ELSE 0 END) &amp;quot;unblended_cost&amp;quot; FROM (database).</description></item><item><title/><link>https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/4_view4/</link><pubDate>Sun, 26 Jul 2020 11:16:08 -0400</pubDate><guid>https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/4_view4/</guid><description>View 4 - S3 This view will be used to create the S3 dashboard page. Use one of the following queries depending on whether you have Reserved Instances, or Savings Plans.
Create View Use one of the following queries depending on whether you have Reserved Instances, or Savings Plans.
Click here - if you have both Savings Plans and Reserved Instances Modify the following SQL query for View4 - S3:</description></item><item><title/><link>https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/kpi_instance_mapping_view/</link><pubDate>Sun, 26 Jul 2020 11:16:08 -0400</pubDate><guid>https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/kpi_instance_mapping_view/</guid><description>KPI Instance Mapping View This view will be used to create the KPI Instance Mapping view that is used to identify instance families with Graviton and/or AMD options as well as create an adjusted generation mapping. There is only one version of this view and it is not dependent on if you have or do not have Reserved Instances or Savings Plans.
Create View Click here to expand the view Use the following SQL query for the KPI Instance Mapping View:</description></item><item><title/><link>https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/5_view5/</link><pubDate>Fri, 24 Apr 2020 11:16:08 -0400</pubDate><guid>https://wellarchitectedlabs.com/cost/200_labs/200_cloud_intelligence/cost-usage-report-dashboards/dashboards/code/5_view5/</guid><description>View 5 - RI SP Mapping This view will be used to create the RI SP Mapping dashboard page. Use one of the following queries depending on whether you have Reserved Instances, or Savings Plans.
Create View Click here - if you have both Savings Plans and Reserved Instances Modify the following SQL query for View5 - RI SP Mapping:
Update line 21 to replace (database).(tablename) with your CUR database and table name</description></item></channel></rss>