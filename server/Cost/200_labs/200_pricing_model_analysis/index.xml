<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Level 200: Pricing Model Analysis on AWS Well-Architected Labs</title><link>https://wellarchitectedlabs.com/cost/200_labs/200_pricing_model_analysis/</link><description>Recent content in Level 200: Pricing Model Analysis on AWS Well-Architected Labs</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Sun, 07 Feb 2021 11:16:09 -0400</lastBuildDate><atom:link href="https://wellarchitectedlabs.com/cost/200_labs/200_pricing_model_analysis/index.xml" rel="self" type="application/rss+xml"/><item><title>Create Pricing Data Sources</title><link>https://wellarchitectedlabs.com/cost/200_labs/200_pricing_model_analysis/1_pricing_sources/</link><pubDate>Sun, 07 Feb 2021 11:16:09 -0400</pubDate><guid>https://wellarchitectedlabs.com/cost/200_labs/200_pricing_model_analysis/1_pricing_sources/</guid><description>Option 1: Manual Deployment Click here to continue with the manual Setup Create S3 Bucket and Folders Create a single S3 bucket that contains two folders - od_pricedata and sp_pricedata, these will contain the on-demand pricing data and the Savings Plans pricing data.
Log into the console via SSO, go to the S3 service page: Click Create bucket:
Enter a Bucket name starting with cost (we have used cost-sptool-pricingfiles, you will need to use a unique bucket name) and click Create bucket: Click on the (bucket name): Click Create folder: Enter a folder name of od_pricedata, click Save: Click Create folder: Enter a folder name of sp_pricedata, click Save: You have now setup the S3 bucket with the two folders that will contain the OnDemand and Savings Plans pricing data.</description></item><item><title>Create the Usage Data Source</title><link>https://wellarchitectedlabs.com/cost/200_labs/200_pricing_model_analysis/2_usage_source/</link><pubDate>Sun, 07 Feb 2021 11:16:09 -0400</pubDate><guid>https://wellarchitectedlabs.com/cost/200_labs/200_pricing_model_analysis/2_usage_source/</guid><description>If AWS updates pricing table with new column, values might get out of sync. Please contact costoptimization@amazon.com if you encounter any problems
We will combine the pricing information with our Cost and Usage Report (CUR). This will give us a usage data source which contains a summary of your usage at an hourly level, with multiple pricing dimensions.
Create OD Table Go to the Athena service page: Copy the following query to Athean:</description></item><item><title>Setup QuickSight Dashboard</title><link>https://wellarchitectedlabs.com/cost/200_labs/200_pricing_model_analysis/3_quicksight_setup/</link><pubDate>Fri, 24 Apr 2020 11:16:09 -0400</pubDate><guid>https://wellarchitectedlabs.com/cost/200_labs/200_pricing_model_analysis/3_quicksight_setup/</guid><description>We will now setup the QuickSight dashboard to visualize your usage by cost, and setup the analysis to provide Savings Plan recommendations.
Go to the QuickSight service: Click on Manage data: Click on New data set: Click Athena: Enter a Data source name of SP_Usage and click Create data source: Select the costmaster database, and the sp_usage table, click Select: Ensure SPICE is selected, click Visualize: Click on QuickSight to go to the home page: Click on Manage data: Select the sp_usage Dataset: Click Schedule refresh: Click Create: Enter a schedule, it needs to be refreshed daily, and click Create: Click Cancel to exit: Click the x in the top corner: You now have your data set setup ready to create a visualization.</description></item><item><title>Create the Recommendation Dashboard</title><link>https://wellarchitectedlabs.com/cost/200_labs/200_pricing_model_analysis/4_recommendation_dashboard/</link><pubDate>Fri, 24 Apr 2020 11:16:09 -0400</pubDate><guid>https://wellarchitectedlabs.com/cost/200_labs/200_pricing_model_analysis/4_recommendation_dashboard/</guid><description>Go to the QuickSight service homepage: Go to the sp_usage analysis: Create a line chart, add line_item_usage_start_date to the X axis, aggregate day. Add spprice to the Value and set the aggregate to min. Drag the product_instance_type to Colour field well. Change the title to Usage in Savings Plan Rates: Click Parameters, and click Create one: Parameter name OperatingSystem, Data type String, click Set a dynamic default: Select your dataset, and select product_operating_system for the columns, click Apply: Click Create: Click Control: Enter OperatingSystem as the display name, style Single select drop down, values Link to a data set field, dataset your data set, column product_operating_system, click Add: Using the process above, Add the parameter Region:</description></item><item><title>Format the Recommendation Dashboard</title><link>https://wellarchitectedlabs.com/cost/200_labs/200_pricing_model_analysis/5_format_dashboard/</link><pubDate>Fri, 24 Apr 2020 11:16:09 -0400</pubDate><guid>https://wellarchitectedlabs.com/cost/200_labs/200_pricing_model_analysis/5_format_dashboard/</guid><description>We will format the recommendation dashboard, this will improve its appearance, and also includes some business rules.
Click on Themes, then click on Midnight: Select the Recommendations table, click the three dots, click Conditional formatting: Column: PayOffMonth, Add background color: Enter the formatting:
Condition: Greater than Value: 9 Color: red Click Apply, click Close: Using the same process, add formatting for the column discountrate:
Type: Background color Condition: Less than Value: 10 NOTE adjust this for your business rules, speak with your finance teams Color: red Click Apply, click Close Under the discountrate formatting, Click Add text color:</description></item><item><title>Teardown</title><link>https://wellarchitectedlabs.com/cost/200_labs/200_pricing_model_analysis/6_tear_down/</link><pubDate>Fri, 24 Apr 2020 11:16:09 -0400</pubDate><guid>https://wellarchitectedlabs.com/cost/200_labs/200_pricing_model_analysis/6_tear_down/</guid><description>Savings Plan analysis is a critical requirement of cost optimization, so there is no specific tear down for this lab.
The following resources were created in this lab:
S3 Bucket: (custom name) Lambda Functions: SPTool_ODPricing_Download and SPTool_SPPricing_Download IAM Role: SPTool_Lambda IAM Policy: s3_pricing_lambda CloudWatch Event, Rule: SPTool-Pricing Glue Crawlers: OD_Pricing and SP_Pricing IAM Role: AWSGlueServiceRole-SPToolPricing Glue Database: Pricing Athena Views: pricing.pricing and costmaster.SP_USage QuickSight Dataset: SP_Usage QuickSight Analysis: sp_usage analysis X Congratulations!</description></item></channel></rss>